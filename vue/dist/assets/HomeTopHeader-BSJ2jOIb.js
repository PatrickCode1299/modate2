import{_ as $,u as E,a as F,b as M,o as S,r as D,c as C,w as B,d as N,e as a,f as o,g as u,h as d,i as m,j as t,k as p,l as T,R as f,F as _,m as g,t as b,n as k,p as I}from"./index-3XR7Uy0D.js";const V={style:{height:"auto"},class:"nav navbar navbar-fixed-top"},j={class:"container-fluid",style:{padding:"0px"}},z={key:1,class:"d-none-mobile list-unstyled fs-5"},A={key:0,class:"fs-6",style:{color:"red","border-radius":"5px","background-color":"whitesmoke","font-weight":"bold"}},J={key:1,class:"fs-6",style:{color:"red","border-radius":"5px","background-color":"whitesmoke","font-weight":"bold"}},P={key:2,class:"d-none-mobile-login list-unstyled p-2 fs-5"},U={key:0,class:"mobile-nav list-unstyled"},q={id:"sidecontainer",class:"container-fluid shadow-lg p-4 side-container"},G={__name:"HomeTopHeader",setup(K){const x=E(),L=F(),c=M();let w,H;S(()=>{H=L});let r=D([]);c.state.user.token!==null?r.value=[{linkname:c.state.user.data.name,location:"login"},{linkname:"Home",location:"/home",property:"link",function:function(){H.path==="/home"?location.reload():x.push({name:"Home"})},itemicon:"fa-light fa-play-pause"},{linkname:"Stories",location:"/home/stories",property:"link",function:function(){x.push({name:"Stories"})},itemicon:"fa-light fa-message"},{linkname:"Conversation",location:"/home/sharedposts",property:"link",itemicon:"fa-light fa-messages"},{linkname:"ChannelPosts",location:"/home/channelposts",property:"link",itemicon:"fa-light fa-tv"},{linkname:"Status",location:"/home/status",property:"link",itemicon:"fa-light fa-circle-notch"}]:r.value=[{linkname:"Home",location:"/home",property:"link"},{linkname:"Features",location:"/features",property:"link"},{linkname:"Contact",location:"/contact",property:"link"},{linkname:"Log in",location:"/login",property:"link magenta-rounded-bold"},{linkname:"Join Now",location:"/signup",property:"link purple-rounded-bold"}];let l=C({status:!1,count:0});function R(){l.status=!0,l.count++,l.count>1&&(l.count=0)}B(l,()=>{let n=document.getElementById("sidecontainer");n.style.display="flex"}),B(l,()=>{if(l.count==0){let n=document.getElementById("sidecontainer");n.style.display="none"}});let y=C({count:""}),h=C({count:""});return S(()=>{w=localStorage.getItem("USER_MAIL");let n=new FormData;n.append("owner",w),N.post("/findNotifyCount",n).then(s=>{y.count=s.data.reply}).catch(s=>{console.log("error")}),N.post("/findMsgCount",n).then(s=>{h.count=s.data.reply}).catch(s=>{console.log("error")})}),(n,s)=>(o(),a("nav",V,[u("div",j,[t(c).state.user.token?d("",!0):(o(),m(t(f),{key:0,class:"navbar-brand p-2 fs-2",to:"/"},{default:p(()=>s[0]||(s[0]=[u("img",{src:T,style:{height:"30px",width:"30px"}},null,-1)])),_:1})),t(c).state.user.token?(o(),a("ul",z,[(o(!0),a(_,null,g(t(r),(e,i)=>(o(),m(t(f),{to:e.location,onClick:v=>e.function?e.function():null,class:k([e.property,{magenta:e.location===n.$route.path}]),key:i},{default:p(()=>[e.linkname==="Messages"?(o(),a("small",A,b(t(h).count>10?"10+":t(h).count<1?"":t(h).count),1)):d("",!0),e.linkname==="Notifications"?(o(),a("small",J,b(t(y).count>10?"10+":t(y).count<1?"":t(y).count),1)):d("",!0),u("i",{class:k(e.itemicon)},null,2)]),_:2},1032,["to","onClick","class"]))),128))])):(o(),a("ul",P,[(o(!0),a(_,null,g(t(r),(e,i)=>(o(),m(t(f),{to:e.location,onClick:v=>e.function?e.function():null,class:k([e.property]),key:i},{default:p(()=>[I(b(e.linkname),1)]),_:2},1032,["to","onClick","class"]))),128))])),t(c).state.user.token?d("",!0):(o(),a("span",{key:3,style:{position:"absolute",top:"0px",right:"0px"},onClick:R,class:"icon-bar"},"â‰¡"))]),t(c).state.user.token?(o(),a("ul",U,[(o(!0),a(_,null,g(t(r),(e,i)=>(o(),m(t(f),{to:e.location,onClick:v=>e.function?e.function():null,class:"mobile-link","active-class":"magenta",key:i},{default:p(()=>[u("i",{class:k(e.itemicon)},null,2)]),_:2},1032,["to","onClick"]))),128))])):d("",!0),u("div",q,[(o(!0),a(_,null,g(t(r),(e,i)=>(o(),m(t(f),{to:e.location,onClick:v=>e.function?e.function():null,class:"side-link",key:i},{default:p(()=>[u("i",{class:k(e.itemicon)},null,2),I(" "+b(e.linkname),1)]),_:2},1032,["to","onClick"]))),128))])]))}},Q=$(G,[["__scopeId","data-v-43d72ba3"]]);export{Q as default};
