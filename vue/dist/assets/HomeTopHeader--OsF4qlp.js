import{_ as E,u as F,a as M,b as D,o as I,r as T,c as x,w as B,d as N,e as o,f as a,g as u,h as t,i as d,j as p,R as m,k as f,F as g,l as b,t as v,n as h,m as L,p as V,q as j,s as q}from"./index-PjQiA5ak.js";const z=k=>(V("data-v-43d72ba3"),k=k(),j(),k),A={style:{height:"auto"},class:"nav navbar navbar-fixed-top"},J={class:"container-fluid",style:{padding:"0px"}},P=z(()=>u("img",{src:q,style:{height:"30px",width:"30px"}},null,-1)),U={key:1,class:"d-none-mobile list-unstyled fs-5"},G={key:0,class:"fs-6",style:{color:"red","border-radius":"5px","background-color":"whitesmoke","font-weight":"bold"}},K={key:1,class:"fs-6",style:{color:"red","border-radius":"5px","background-color":"whitesmoke","font-weight":"bold"}},O={key:2,class:"d-none-mobile-login list-unstyled p-2 fs-5"},Q={key:0,class:"mobile-nav list-unstyled"},W={id:"sidecontainer",class:"container-fluid shadow-lg p-4 side-container"},X={__name:"HomeTopHeader",setup(k){const w=F(),R=M(),i=D();let S,H;I(()=>{H=R});let c=T([]);i.state.user.token!==null?c.value=[{linkname:i.state.user.data.name,location:"login"},{linkname:"Home",location:"/home",property:"link",function:function(){H.path==="/home"?location.reload():w.push({name:"Home"})},itemicon:"fa-light fa-play-pause"},{linkname:"Stories",location:"/home/stories",property:"link",function:function(){w.push({name:"Stories"})},itemicon:"fa-light fa-message"},{linkname:"Conversation",location:"/home/sharedposts",property:"link",itemicon:"fa-light fa-messages"},{linkname:"ChannelPosts",location:"/home/channelposts",property:"link",itemicon:"fa-light fa-tv"},{linkname:"Status",location:"/home/status",property:"link",itemicon:"fa-light fa-circle-notch"}]:c.value=[{linkname:"Home",location:"/home",property:"link"},{linkname:"Features",location:"/features",property:"link"},{linkname:"Contact",location:"/contact",property:"link"},{linkname:"Log in",location:"/login",property:"link magenta-rounded-bold"},{linkname:"Join Now",location:"/signup",property:"link purple-rounded-bold"}];let s=x({status:!1,count:0});function $(){s.status=!0,s.count++,s.count>1&&(s.count=0)}B(s,()=>{let n=document.getElementById("sidecontainer");n.style.display="flex"}),B(s,()=>{if(s.count==0){let n=document.getElementById("sidecontainer");n.style.display="none"}});let y=x({count:""}),_=x({count:""});return I(()=>{S=localStorage.getItem("USER_MAIL");let n=new FormData;n.append("owner",S),N.post("/findNotifyCount",n).then(r=>{y.count=r.data.reply}).catch(r=>{console.log("error")}),N.post("/findMsgCount",n).then(r=>{_.count=r.data.reply}).catch(r=>{console.log("error")})}),(n,r)=>(o(),a("nav",A,[u("div",J,[t(i).state.user.token?f("",!0):(o(),d(t(m),{key:0,class:"navbar-brand p-2 fs-2",to:"/"},{default:p(()=>[P]),_:1})),t(i).state.user.token?(o(),a("ul",U,[(o(!0),a(g,null,b(t(c),(e,l)=>(o(),d(t(m),{to:e.location,onClick:C=>e.function?e.function():null,class:h([e.property,{magenta:e.location===n.$route.path}]),key:l},{default:p(()=>[e.linkname==="Messages"?(o(),a("small",G,v(t(_).count>10?"10+":t(_).count<1?"":t(_).count),1)):f("",!0),e.linkname==="Notifications"?(o(),a("small",K,v(t(y).count>10?"10+":t(y).count<1?"":t(y).count),1)):f("",!0),u("i",{class:h(e.itemicon)},null,2)]),_:2},1032,["to","onClick","class"]))),128))])):(o(),a("ul",O,[(o(!0),a(g,null,b(t(c),(e,l)=>(o(),d(t(m),{to:e.location,onClick:C=>e.function?e.function():null,class:h([e.property]),key:l},{default:p(()=>[L(v(e.linkname),1)]),_:2},1032,["to","onClick","class"]))),128))])),t(i).state.user.token?f("",!0):(o(),a("span",{key:3,style:{position:"absolute",top:"0px",right:"0px"},onClick:$,class:"icon-bar"},"â‰¡"))]),t(i).state.user.token?(o(),a("ul",Q,[(o(!0),a(g,null,b(t(c),(e,l)=>(o(),d(t(m),{to:e.location,onClick:C=>e.function?e.function():null,class:"mobile-link","active-class":"magenta",key:l},{default:p(()=>[u("i",{class:h(e.itemicon)},null,2)]),_:2},1032,["to","onClick"]))),128))])):f("",!0),u("div",W,[(o(!0),a(g,null,b(t(c),(e,l)=>(o(),d(t(m),{to:e.location,onClick:C=>e.function?e.function():null,class:"side-link",key:l},{default:p(()=>[u("i",{class:h(e.itemicon)},null,2),L(" "+v(e.linkname),1)]),_:2},1032,["to","onClick"]))),128))])]))}},Z=E(X,[["__scopeId","data-v-43d72ba3"]]);export{Z as default};
