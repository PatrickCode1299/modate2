import __buffer_polyfill from 'vite-plugin-node-polyfills/shims/buffer'
globalThis.Buffer = globalThis.Buffer || __buffer_polyfill
import __global_polyfill from 'vite-plugin-node-polyfills/shims/global'
globalThis.global = globalThis.global || __global_polyfill
import __process_polyfill from 'vite-plugin-node-polyfills/shims/process'
globalThis.process = globalThis.process || __process_polyfill

import {
  __toESM,
  require_dist,
  require_dist2,
  require_dist3
} from "./chunk-KI2BRAH6.js";

// node_modules/text-image/dist/text-image.js
var import_dist = __toESM(require_dist());
var import_dist2 = __toESM(require_dist2());
var import_dist3 = __toESM(require_dist3());
!function() {
  var t, n = document.createElement("pre"), h = document.createElement("canvas"), r = h.getContext("2d"), i = { font: "Sans-serif", align: "left", color: "#000000", size: 16, background: "rgba(0, 0, 0, 0)", stroke: 0, strokeColor: "#FFFFFF", lineHeight: "1.2em", bold: false, italic: false };
  function s(t2) {
    t2 = String(t2), n.innerText = t2, n.setAttribute("style", this._style), document.body.append(n);
    var e = t2.split("\n"), i2 = this.style.stroke, s2 = n.offsetHeight / e.length, l = 0.25 * s2;
    h.width = n.offsetWidth + 2 * i2, h.height = n.offsetHeight, r.clearRect(0, 0, h.width, h.height), r.fillStyle = this.style.background, r.beginPath(), r.fillRect(0, 0, h.width, h.height), r.fill();
    var o = "";
    switch (this.style.italic && (o += "italic "), this.style.bold && (o += "bold "), o += this.style.size + "pt " + this.style.font, r.font = o, r.textAlign = this.style.align, r.lineWidth = this.style.stroke, r.strokeStyle = this.style.strokeColor, r.fillStyle = this.style.color, r.textAlign) {
      case "center":
        i2 = h.width / 2;
        break;
      case "right":
        i2 = h.width - i2;
    }
    e.forEach((function(t3, e2) {
      this.style.stroke && r.strokeText(t3, i2, s2 * (e2 + 1) - l), r.fillText(t3, i2, s2 * (e2 + 1) - l);
    }).bind(this)), document.body.removeChild(n);
  }
  window.TextImage = function(t2) {
    return this instanceof TextImage ? (this.setStyle(t2), this) : new TextImage(t2);
  }, (t = window.TextImage.prototype).setStyle = function(t2) {
    for (var e in this.style = t2 || {}, i) this.style[e] || (this.style[e] = i[e]);
    return this._style = "font: ", this.style.italic && (this._style += "italic "), this.style.bold && (this._style += "bold "), this._style += this.style.size + "pt " + this.style.font + ";", this._style += "line-height:" + this.style.lineHeight + ";", this._style += "text-align: " + this.style.align + ";", this._style += "color: " + this.style.color + ";", this._style += "background-color: " + this.style.background + ";", this._style += ";padding: 0; display: block; position: fixed; top: 100%; overflow: hidden;", this;
  }, t.toDataURL = function(t2) {
    return t2 && s.call(this, t2), h.toDataURL();
  }, t.toImage = function(t2, e) {
    s.call(this, t2);
    var i2 = new Image();
    return e && (i2.onload = e), i2.src = h.toDataURL(), i2;
  };
}();
//# sourceMappingURL=text-image_dist_text-image__js.js.map
